<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Native Dialogs Example</title>
	<script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.1/dist/purify.min.js"></script>
</head>
<body>
	<h1>Native Dialogs Example</h1>
	<button id="alert-btn">Alert</button>
	<button id="confirm-btn">Confirm</button>
	<button id="prompt-btn">Prompt</button>
	<button id="safe-prompt-btn">Safer Prompt</button>
	<output></output>
	<script>
		// Bind click events to the buttons
		const alertBtn = document.getElementById('alert-btn');
		const confirmBtn = document.getElementById('confirm-btn');
		const promptBtn = document.getElementById('prompt-btn');
		const safePromptBtn = document.getElementById('safe-prompt-btn');
		const output = document.querySelector('output');

		alertBtn.addEventListener('click', () => {
			window.alert('This is an alert message.');
		});

		confirmBtn.addEventListener('click', () => {
			const result = window.confirm('Are you sure?');
			output.textContent = `The value returned by the confirm method is: ${result}`;
		});

		promptBtn.addEventListener('click', () => {
			const result = window.prompt('Please enter your name:');
			if (result === null) {
				output.textContent = 'User cancelled the prompt.';
			} else if (result.trim() === '') {
				output.textContent = 'User didn\'t enter anything.';
			} else {
				output.textContent = `Hello, ${result.trim()}!`;
			}
		});

		safePromptBtn.addEventListener('click', () => {
			const result = window.prompt('Please enter your message:');
			if (result === null) {
				output.textContent = 'User cancelled the prompt.';
			} else if (result.trim() === '') {
				output.textContent = 'User didn\'t enter anything.';
			} else {
				// Sanitize user input to guard against XSS attacks
				const safeResult = DOMPurify.sanitize(result.trim());
				// Use tagged template string to render sanitized input
				output.innerHTML = `You entered: ${safeResult}`;
			}
		});
	</script>
</body>
</html>
