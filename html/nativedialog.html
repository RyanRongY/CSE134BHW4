<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Native Dialogs Example</title>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.3.1/dist/purify.min.js"></script>
    
    <script>
        const alertBtn = document.getElementById('alertBtn');
        alertBtn.addEventListener('click', () => {
          window.alert('This is a built-in alert dialog');
        });
  
        const confirmBtn = document.getElementById('confirmBtn');
        confirmBtn.addEventListener('click', () => {
          const result = window.confirm('This is a built-in confirm dialog');
          document.getElementById('output').textContent = `The value returned by the confirm method is: ${result}`;
        });
  
        const promptBtn = document.getElementById('promptBtn');
        promptBtn.addEventListener('click', () => {
          const userInput = window.prompt('What\'s your legal name');
          const sanitizedInput = DOMPurify.sanitize(userInput);
          const output = document.getElementById('output');
          if (sanitizedInput === null) {
            output.textContent = 'User canceled the prompt';
          } else if (sanitizedInput === '') {
            output.textContent = 'User didn\'t enter anything';
          } else {
            output.textContent = `Welcome! ${sanitizedInput}`;
          }
        });
  
        const saferPromptBtn = document.getElementById('saferPromptBtn');
        saferPromptBtn.addEventListener('click', () => {
          const userInput = window.prompt(html`'What\'s your nickname'`);
          const sanitizedInput = DOMPurify.sanitize(userInput);
          const output = document.getElementById('output');
          if (sanitizedInput === null) {
            output.textContent = 'User canceled input';
          } else if (sanitizedInput === '') {
            output.textContent = 'User didn\'t enter anything';
          } else {
            output.textContent = `Welcome! ${sanitizedInput}`;
          }
        });
  
        function html(strings, ...values) {
          const dirty = strings.reduce((prev, next, i) => `${prev}${next}${values[i] || ''}`, '');
          return DOMPurify.sanitize(dirty);
        }
      </script>
  </head>
  <body>
    <header><h1>Native Dialogs Example</h1>
    </header>
    <main>
        <button id="alertBtn">Alert</button>
        <button id="confirmBtn">Confirm</button>
        <button id="promptBtn">Prompt</button>
        <button id="saferPromptBtn">Safer Prompt</button>
        <br><br>
        <label for="output">Output:</label>
        <output id="output"></output>
    </main>

  </body>
</html>
